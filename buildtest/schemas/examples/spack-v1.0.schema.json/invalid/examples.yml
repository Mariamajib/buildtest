version: "1.0"
buildspecs:
  missing_root_to_spack:
    type: spack
    executor: generic.local.sh
    description: 'root property required to run source $SPACK_ROOT/share/spack/setup-env.sh'
    spack:
      env:
        create:
          name: myproject
        specs:
          - m4
          - zlib

  specs_must_be_list_of_strings:
    type: spack
    executor: generic.local.sh
    description: 'specs must be a list of strings '
    spack:
      root: $HOME/spack
      env:
        create:
          name: myproject
        specs:
          - 1
          - zlib

  additionalProperties_spack_field:
    type: spack
    executor: generic.local.sh
    description: additional Properties can't be specified in spack section
    spack:
      root: $HOME/spack
      FOO: BAR
      env:
        create:
          name: myproject
        specs:
          - zlib

  invalid_type_mirror_field:
    type: spack
    executor: generic.local.sh
    description: The mirror field must be a key value pair
    spack:
      root: $HOME/spack
      mirror: https://caches.e4s.io
      env:
        create:
          name: myproject
        specs:
          - zlib